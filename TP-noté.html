<html> 
    <head> <title> Morpion</title>
        <link rel="stylesheet" href="morpion.css"> 
     </head>
    
 <body> 
    <table> 
    <thead><tr> 
        <th colspan="3"> 
         Morpion
        </th>
         </tr></thead>
        <tbody> 
     <tr><td id="cases1" onclick=morpion(cases1)> </td>
         <td id="cases2" onclick=morpion(cases2)> </td> 
         <td id="cases3" onclick=morpion(cases3)> </td> </tr>
        <tr>
         <td id="cases4" onclick=morpion(cases4)> </td>
        <td id="cases5" onclick=morpion(cases5)>   </td>
         <td id="cases6" onclick=morpion(cases6)>  </td> </tr> <tr> 
        <td id="cases7" onclick=morpion(cases7)>   </td>
        <td id="cases8" onclick=morpion(cases8)>  </td>
        <td id="cases9" onclick=morpion(cases9)>  </td></tr>
        </tbody> 
     </table>
    
     <script>

       
         window.joueur = 0;
                      
    function morpion (test){
         var cases1 = document.getElementById("cases1"); 
         var cases2 = document.getElementById("cases2"); 
         var cases3 = document.getElementById("cases3");
         var cases4 = document.getElementById("cases4");
         var cases5 = document.getElementById("cases5");
         var cases6 = document.getElementById("cases6");
         var cases7 = document.getElementById("cases7");
         var cases8 = document.getElementById("cases8");
         var cases9 = document.getElementById("cases9");
         var test; 
         window.game = new Array(cases1, cases2, cases3, cases4, cases5, cases6, cases7, cases8, cases9); 
         
        if(test.className == "cases" || test.className == "cases3"){
            alert("Cette case est occupée!"); 
        } 
        else {
                if(!play(game)) {
                if(joueur == 0){
                     alert("Le joueur 1 joue."); 
                     joueur = 1; 
            
                       if(test == cases1){
                        cases1.className = "cases";
                        cases2.className = "cases"; 
                        cases4.className = "cases"; 
                                         }
                       else if(test == cases2){ 
                         cases2.className = "cases"; 
                         cases3.className = "cases"; 
                         cases6.className = "cases"; 
                                        }
                       else if (test == cases3){
                         cases3.className = "cases"; 
                         cases2.className = "cases"; 
                         cases6.className = "cases"; 
                                             }
                       else if(test == cases4){
                        cases4.className = "cases"; 
                        cases5.className = "cases"; 
                        cases7.className = "cases"; 
                                       }
                       else if(test == cases5){
                        cases5.className = "cases"; 
                        cases2.className = "cases"; 
                        cases6.className = "cases"; 
                                           }
                       else if(test == cases6){
                       cases6.className = "cases"; 
                       cases8.className = "cases"; 
                       cases9.className = "cases"; 
                                      }
                       else if (test == cases7){
                       cases7.className = "cases"; 
                       cases4.className = "cases"; 
                       cases8.className = "cases"; 
                         }
                       else if (test == cases8){
                       cases8.className = "cases"; 
                       cases5.className = "cases"; 
                       cases7.className = "cases"; 
                        }
                       else if (test == cases9){
                       cases9.className = "cases";
                       cases8.className = "cases"; 
                       cases6.className = "cases"; 
                                        }
    
                                 }
                else{
                 alert("C'est le joueur 2 qui joue"); 
                 joueur = 0; 
            
            if(test == cases1){
            cases1.className = "cases3";
            cases2.className ="cases3"; 
            cases4.className = "cases3"; 
        
        }
       else if(test == cases2){ 
           cases2.className = "cases3"; 
           cases3.className = "cases3"; 
           cases6.className = "cases3"; 
        }
       else if (test == cases3){
            cases3.className ="cases3"; 
            cases2.className = "cases3"; 
            cases6.className = "cases3"; 
        }
       else if(test == cases4){
            cases4.className = "cases3"; 
            cases5.className = "cases3"; 
            cases7.className ="cases3"; 
        }
        else if(test == cases5){
            cases5.className = "cases3"; 
            cases2.className = "cases3"; 
            cases6.className ="cases3"; 
        }
       else if(test == cases6){
            cases6.className = "cases3"; 
            cases8.className = "cases3"; 
            cases9.className = "cases3"; 
        }
       else if (test == cases7){
             cases7.className = "cases3"; 
             cases4.className = "cases3"; 
             cases8.className = "cases3"; 
        }
        else if (test == cases8){
            cases8.className = "cases3"; 
            cases7.className = "cases3"; 
            cases5.className = "cases3"; 
        }
        else if(test == cases9){
            cases8.className = "cases3";
            cases9.className = "cases3"; 
            cases6.className = "cases3"; 
        }
            
        }
        }
            play(game); 
        }
 
    

     
         
    
         
         function play (game){
             
             var j1 = 0; 
             var j2 = 0; 
             var i = 0; 
             
                   for (i=0; i<9; i++){
                       if(game[i].className != "cases" && game[i].className != "cases3"){
                           return false; 
                       }
                       else {
                      if (game[i].className == "cases" ){
                          j1++; 
                      }
                       else if (game[i].className == "cases3"){
                           j2++; 
                       }
                           
                   }
                   }
             if(j1>j2){
                 alert("Le joueur 1 a gagné"); 
             }
             else {
                 alert("Le joueur 2 a gagné"); 
             }
                       return true; 
         
         
         }
         
    }
     </script>
    </body>
</html>
    